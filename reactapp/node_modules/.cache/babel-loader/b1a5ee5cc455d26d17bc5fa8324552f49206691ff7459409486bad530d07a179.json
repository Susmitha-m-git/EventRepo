{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getEvents}from'./api';import Home from'./components/Home';import EventForm from'./components/EventForm';import CalendarView from'./components/CalendarView';import EventList from'./components/EventList';import Footer from'./components/Footer';import Login from'./components/Login';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[events,setEvents]=useState([]);const[error,setError]=useState(null);const[isAuthenticated,setIsAuthenticated]=useState(false);const loadEvents=async()=>{try{var _getEvents;const response=await((_getEvents=getEvents===null||getEvents===void 0?void 0:getEvents())!==null&&_getEvents!==void 0?_getEvents:Promise.resolve({data:[]}));setEvents((response===null||response===void 0?void 0:response.data)||[]);setError(null);}catch(err){console.error('Error loading events:',err);setEvents([]);setError(err);}};useEffect(()=>{const token=localStorage.getItem('token');setIsAuthenticated(!!token);},[]);const handleLogin=token=>{setIsAuthenticated(true);};const handleLogout=()=>{localStorage.removeItem('token');setIsAuthenticated(false);};if(!isAuthenticated){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:styles.logoutBtn,children:\"Logout\"}),/*#__PURE__*/_jsx(Home,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-panel\",children:/*#__PURE__*/_jsx(EventForm,{onEventCreated:loadEvents})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-panel\",children:[/*#__PURE__*/_jsx(EventList,{events:events,onEventsUpdated:loadEvents}),/*#__PURE__*/_jsx(CalendarView,{events:events})]})]}),/*#__PURE__*/_jsx(Footer,{}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',textAlign:'center'},children:\"Failed to load events\"})]})});}const styles={logoutBtn:{position:'absolute',top:'10px',right:'10px',padding:'8px 16px',background:'#dc3545',color:'white',border:'none',borderRadius:'5px',cursor:'pointer',zIndex:1000}};export default App;","map":{"version":3,"names":["React","useState","useEffect","getEvents","Home","EventForm","CalendarView","EventList","Footer","Login","jsx","_jsx","jsxs","_jsxs","App","events","setEvents","error","setError","isAuthenticated","setIsAuthenticated","loadEvents","_getEvents","response","Promise","resolve","data","err","console","token","localStorage","getItem","handleLogin","handleLogout","removeItem","onLogin","className","children","onClick","style","styles","logoutBtn","onEventCreated","onEventsUpdated","color","textAlign","position","top","right","padding","background","border","borderRadius","cursor","zIndex"],"sources":["C:/Users/roopa/Downloads/7c472156-04dc-4f9d-a70b-583e9ec537ed-89d5830e-67ff-4cea-a4e7-1923775caa72/reactapp/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents } from './api';\r\nimport Home from './components/Home';\r\nimport EventForm from './components/EventForm';\r\nimport CalendarView from './components/CalendarView';\r\nimport EventList from './components/EventList';\r\nimport Footer from './components/Footer';\r\nimport Login from './components/Login';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [events, setEvents] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  const loadEvents = async () => {\r\n    try {\r\n      const response = await (getEvents?.() ?? Promise.resolve({ data: [] }));\r\n      setEvents(response?.data || []);\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error('Error loading events:', err);\r\n      setEvents([]);\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    setIsAuthenticated(!!token);\r\n  }, []);\r\n\r\n  const handleLogin = (token) => {\r\n    setIsAuthenticated(true);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return <Login onLogin={handleLogin} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container\">\r\n        <button onClick={handleLogout} style={styles.logoutBtn}>Logout</button>\r\n        <Home />\r\n        <div className=\"main-content\">\r\n          <div className=\"left-panel\">\r\n            <EventForm onEventCreated={loadEvents} />\r\n          </div>\r\n          <div className=\"right-panel\">\r\n            <EventList events={events} onEventsUpdated={loadEvents} />\r\n            <CalendarView events={events} />\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n        {error && (\r\n          <p style={{ color: 'red', textAlign: 'center' }}>\r\n            Failed to load events\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  logoutBtn: {\r\n    position: 'absolute',\r\n    top: '10px',\r\n    right: '10px',\r\n    padding: '8px 16px',\r\n    background: '#dc3545',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '5px',\r\n    cursor: 'pointer',\r\n    zIndex: 1000\r\n  }\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}