{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getEvents,rsvpToEvent,deleteEvent}from'../api';import EventCard from'./EventCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventList=_ref=>{let{events:propEvents,onEventsUpdated}=_ref;const[events,setEvents]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{if(propEvents){setEvents(propEvents);}else{loadEvents();}},[propEvents]);const loadEvents=async()=>{try{setLoading(true);const response=await getEvents();setEvents((response===null||response===void 0?void 0:response.data)||[]);}catch(error){console.error('Error loading events:',error);setEvents([]);}finally{setLoading(false);}};const handleRSVP=async(eventId,attendeeName)=>{try{await rsvpToEvent(eventId,attendeeName);if(onEventsUpdated){onEventsUpdated();}else{loadEvents();}}catch(error){console.error('Error with RSVP:',error);}};const handleDelete=async eventId=>{try{await deleteEvent(eventId);if(onEventsUpdated){onEventsUpdated();}else{loadEvents();}}catch(error){console.error('Error deleting event:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading events...\"});}return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Event List\"}),events.length===0?/*#__PURE__*/_jsx(\"p\",{style:styles.noEvents,children:\"No events available\"}):events.map(event=>/*#__PURE__*/_jsx(EventCard,{event:event,onRSVP:handleRSVP,onDelete:handleDelete},event.id))]});};const styles={container:{background:'white',padding:'30px',flex:1,overflowY:'auto'},title:{color:'#333',marginBottom:'25px',fontSize:'1.5rem',fontWeight:'600',borderBottom:'2px solid #667eea',paddingBottom:'10px'},noEvents:{textAlign:'center',color:'#666',fontSize:'16px',padding:'40px 20px'}};export default EventList;","map":{"version":3,"names":["React","useState","useEffect","getEvents","rsvpToEvent","deleteEvent","EventCard","jsx","_jsx","jsxs","_jsxs","EventList","_ref","events","propEvents","onEventsUpdated","setEvents","loading","setLoading","loadEvents","response","data","error","console","handleRSVP","eventId","attendeeName","handleDelete","children","style","styles","container","title","length","noEvents","map","event","onRSVP","onDelete","id","background","padding","flex","overflowY","color","marginBottom","fontSize","fontWeight","borderBottom","paddingBottom","textAlign"],"sources":["C:/Users/roopa/Downloads/7c472156-04dc-4f9d-a70b-583e9ec537ed-89d5830e-67ff-4cea-a4e7-1923775caa72/reactapp/src/components/EventList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getEvents, rsvpToEvent, deleteEvent } from '../api';\r\nimport EventCard from './EventCard';\r\n\r\nconst EventList = ({ events: propEvents, onEventsUpdated }) => {\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (propEvents) {\r\n      setEvents(propEvents);\r\n    } else {\r\n      loadEvents();\r\n    }\r\n  }, [propEvents]);\r\n\r\n  const loadEvents = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getEvents();\r\n      setEvents(response?.data || []);\r\n    } catch (error) {\r\n      console.error('Error loading events:', error);\r\n      setEvents([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRSVP = async (eventId, attendeeName) => {\r\n    try {\r\n      await rsvpToEvent(eventId, attendeeName);\r\n      if (onEventsUpdated) {\r\n        onEventsUpdated();\r\n      } else {\r\n        loadEvents();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error with RSVP:', error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (eventId) => {\r\n    try {\r\n      await deleteEvent(eventId);\r\n      if (onEventsUpdated) {\r\n        onEventsUpdated();\r\n      } else {\r\n        loadEvents();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting event:', error);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading events...</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.title}>Event List</h2>\r\n      {events.length === 0 ? (\r\n        <p style={styles.noEvents}>No events available</p>\r\n      ) : (\r\n        events.map(event => (\r\n          <EventCard \r\n            key={event.id} \r\n            event={event} \r\n            onRSVP={handleRSVP}\r\n            onDelete={handleDelete}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    background: 'white',\r\n    padding: '30px',\r\n    flex: 1,\r\n    overflowY: 'auto',\r\n  },\r\n  title: {\r\n    color: '#333',\r\n    marginBottom: '25px',\r\n    fontSize: '1.5rem',\r\n    fontWeight: '600',\r\n    borderBottom: '2px solid #667eea',\r\n    paddingBottom: '10px',\r\n  },\r\n  noEvents: {\r\n    textAlign: 'center',\r\n    color: '#666',\r\n    fontSize: '16px',\r\n    padding: '40px 20px',\r\n  }\r\n};\r\n\r\nexport default EventList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}